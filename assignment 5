#include <iostream>
#include <vector>
#include <fstream>
using namespace std;

struct Employee {
    int id;
    string name;
    double monthlySalary;
};

int main() {
    vector<Employee> employees;
    int n;
    double limit;

    cout << "Enter number of employees: ";
    cin >> n;

    for (int i = 0; i < n; i++) {
        Employee e;

        cout << "\nEnter Employee ID: ";
        cin >> e.id;

        cout << "Enter Name: ";
        cin.ignore();
        getline(cin, e.name);

        cout << "Enter Monthly Salary: ";
        cin >> e.monthlySalary;

        employees.push_back(e);
    }

    cout << "\nEnter yearly salary limit: ";
    cin >> limit;

    ofstream outFile("high_salary.txt");

    if (!outFile) {
        cout << "Error: File could not be opened for writing." << endl;
        return 1;
    }

    for (int i = 0; i < employees.size(); i++) {
        double yearlySalary = employees[i].monthlySalary * 12;

        if (yearlySalary > limit) {
            outFile << employees[i].id << endl;
            outFile << employees[i].name << endl;
            outFile << yearlySalary << endl;
        }
    }

    outFile.close();
    cout << "\nHigh salary employees saved to file.\n";

    ifstream inFile("high_salary.txt");

    if (!inFile) {
        cout << "Error: File could not be opened for reading." << endl;
        return 1;
    }

    cout << "\nEmployees with yearly salary above limit:\n";

    while (!inFile.eof()) {
        int id;
        string name;
        double yearlySalary;

        inFile >> id;
        inFile.ignore();
        getline(inFile, name);
        inFile >> yearlySalary;

        if (inFile) {
            cout << "ID: " << id << endl;
            cout << "Name: " << name << endl;
            cout << "Yearly Salary: " << yearlySalary << endl;
            cout << endl;
        }
    }

    inFile.close();
    return 0;
}
